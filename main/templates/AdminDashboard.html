<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      background-color: #f8f9fa;
      font-family: 'Segoe UI', sans-serif;
      margin: 20px;
      
    }
    .sidebar {
      height: 100vh;
      position: fixed;
      left: 0;
      top: 0;
      width: 220px;
      background-color: #021b45;
      color: white;
      padding: 20px;
      overflow-y: auto;
    }
    .sidebar a {
      color: white;
      text-decoration: none;
      margin-bottom: 10px;
      display: block;
    }
    .main-content {
      position:relative;
      margin-left: 200px;
      padding: 20px;
    }
    .card-box {
      position:fixed;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: white;
      font-size: 18px;
    }
    .calendar {
      position:absolute;
      right:20px;
      border: 1px solid #dee2e6;
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      background: white;
    }
    .calendar table {
      width: 100%;
      font-size: 14px;
    }
    .calendar th {
      color: #011636;
    }
    
    .profile-card {
      margin-top: 200px;
      border-radius: 20px;
      background: white;
      padding: 20px;
      width: 280px;
      opacity: 0;
      transform: scale(0.9);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

        
    .profile-card:hover {
      transform: scale(1.03);
      box-shadow: 0 6px 20px rgba(0, 150, 255, 0.3);
      }

        
    .slide-in-right {
      animation: slideInRightZoom 1s ease forwards;
        }

    .profile-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    @keyframes slideInRightZoom {
            0% { transform: translateX(100px) scale(0.9); opacity: 0; }
            100% { transform: translateX(0) scale(1); opacity: 1; }
        }
    .chart-legend-container {
      display: flex;
      gap: 30px; 
      align-items: flex-start;
      max-width: 900px;
      margin-bottom: 40px;
    }

    
    #registrationChart {
      max-width: 400px;
      max-height: 400px;
      height: 400px; 
    }

    
    .custom-legend {
      display: flex;
      gap: 40px; 
      flex-wrap: nowrap;
    }

    .legend-column {
      display: flex;
      flex-direction: column;
      gap: 10px; 
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 14px;
      white-space: nowrap;
    }

    .legend-color-box {
      width: 18px;
      height: 18px;
      border-radius: 3px;
    }
  </style>
</head>
<body>

  <div class="sidebar">
    <h5>PAIA University</h5>
    <hr>
    <a href="{{ url_for('AvailableCourses') }}">Available Course</a>
    <a href="{{ url_for('Addcourse') }}">Add Course</a>
    <a href="{{ url_for('students') }}">Students</a>
    <a href="{{ url_for('SeptemberTermCalender') }}">September Term</a>
    <a href="{{ url_for('report') }}">Report</a>
    <a href="{{ url_for('administrator') }}">Administrator</a>
    <a href="{{ url_for('admin_logs') }}">Logs</a>
  </div>

  <div class="main-content">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h3>Dashboard</h3>
    </div>

    <div class="chart-legend-container">
      <canvas id="registrationChart"></canvas>

      <div class="custom-legend" id="customLegend">
        
      </div>
    </div>

    <hr />

    <div class="row">
      <div class="col-md-4">
        <div class="calendar">
          <p><strong>August 2025</strong></p>
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th>
              </tr>
            </thead>
            <tbody>
              <tr><td></td><td></td><td></td><td></td><td></td><td>1</td><td>2</td></tr>
              <tr><td>3</td><td>4</td><td>5</td><td><strong style="color:red;">6</strong></td><td>7</td><td>8</td><td>9</td></tr>
              <tr><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td><td>15</td><td>16</td></tr>
              <tr><td>17</td><td>18</td><td>19</td><td>20</td><td>21</td><td>22</td><td>23</td></tr>
              <tr><td>24</td><td>25</td><td>26</td><td>27</td><td>28</td><td>29</td><td>30</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="profile-card">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQY62vsraRt8wxfs4DT1uZjGGbbCZuN9rJ8Pw&s" alt="Profile Picture" />
  </div>

  <script>
    const labels = ['calculus1', 'calculus2', 'Programming', 'Advanced Programming', 'Probability', 'Physics I', 'Physics II', 'English', 'Data Structures & Algorithms',
      'Foundation of Mathematics', 'Computer Workshop', 'Foundation of Numerical Analysis', 'Differential Equations', 'Database', 'Foundation of Combinatorics', 'Basics of Economics', 'Sports','Foundation of Matrices & Linear Algebra','Chemistry','Literature'
    ];

    const dataValues = [3, 4, 5, 7, 7, 6, 6, 5, 2, 4, 1, 2, 3, 2, 4, 6, 3, 5, 2, 4];

    const backgroundColors = [
      '#0dcaf0' ,
      '#20c997',
      '#ffc107',
      '#fd7e14',
      '#dc3545',
      '#d63384',
      '#6f42c1',
      '#6f42c1',
      '#0d6efd',
      '#f1aeb5',
      '#ffe69c',
      '#9eeaf9',
      '#a3cfbb',
      '#9ec5fe',
      '#495057',
      '#58151c',
      '#664d03',
      '#055160',
      '#0a3622',
      '#052c65',
    ];

    const ctx = document.getElementById('registrationChart').getContext('2d');
    const pieChart = new Chart(ctx, {
      type: 'pie',
      data: {
        labels: labels,
        datasets: [{
          data: dataValues,
          backgroundColor: backgroundColors,
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false  
          }
        }
      }
    });

    
    const legendContainer = document.getElementById('customLegend');

    const col1Labels = labels.slice(0, 10);
    const col2Labels = labels.slice(10, 20);

    function createLegendColumn(labelsArray, startIndex) {
      const colDiv = document.createElement('div');
      colDiv.className = 'legend-column';

      labelsArray.forEach((label, i) => {
        const itemDiv = document.createElement('div');
        itemDiv.className = 'legend-item';

        const colorBox = document.createElement('div');
        colorBox.className = 'legend-color-box';
        colorBox.style.backgroundColor = backgroundColors[startIndex + i];

        const labelSpan = document.createElement('span');
        labelSpan.textContent = label;

        itemDiv.appendChild(colorBox);
        itemDiv.appendChild(labelSpan);

        colDiv.appendChild(itemDiv);
      });

      return colDiv;
    }

    legendContainer.appendChild(createLegendColumn(col1Labels, 0));
    legendContainer.appendChild(createLegendColumn(col2Labels, 10));
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
